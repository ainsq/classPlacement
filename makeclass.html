<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>배치</title>
        <style>
            td{
                border: 1px solid black;
                width: 100px;
                height: 40px;
            }
        </style>
    </head>
    <body>
        <table>
            <tr>
                <td id="td1" onclick="setGirl('1');"></td>
                <td id="td2" onclick="setGirl('2');"></td>
                <td id="td3" onclick="setGirl('3');"></td>
                <td id="td4" onclick="setGirl('4');"></td>
                <td id="td5" onclick="setGirl('5');"></td>
                <td id="td6" onclick="setGirl('6');"></td>
            </tr>
            <tr>
                <td id="td7" onclick="setGirl('7');"></td>
                <td id="td8" onclick="setGirl('8');"></td>
                <td id="td9" onclick="setGirl('9');"></td>
                <td id="td10" onclick="setGirl('10');"></td>
                <td id="td11" onclick="setGirl('11');"></td>
                <td id="td12" onclick="setGirl('12');"></td>
            </tr>
            <tr>
                <td id="td13" onclick="setGirl('13');"></td>
                <td id="td14" onclick="setGirl('14');"></td>
                <td id="td15" onclick="setGirl('15');"></td>
                <td id="td16" onclick="setGirl('16');"></td>
                <td id="td17" onclick="setGirl('17');"></td>
                <td id="td18" onclick="setGirl('18');"></td>
            </tr>
            <tr>
                <td id="td19" onclick="setGirl('19');"></td>
                <td id="td20" onclick="setGirl('20');"></td>
                <td id="td21" onclick="setGirl('21');"></td>
                <td id="td22" onclick="setGirl('22');"></td>
                <td id="td23" onclick="setGirl('23');"></td>
                <td id="td24" onclick="setGirl('24');"></td>
            </tr>
        </table>
    </body>
    <script>
        var isGirl=[];
        function setGirl(lastNum){
            var i;
            var flag=0;
            for(i=0; i<isGirl.length; i++){
                if(Number(lastNum) === isGirl[i]){
                    flag=1;
                }
            }
            if(isGirl.length < 8){
                if(flag==0){
                    upGirl(lastNum);
                }else{
                    downGirl(lastNum);
                }
            }else{
            }
            if(isGirl.length === 8){
                var b=confirm('확정하시겠습니까?');
                if(b==false){
                    allGirlDelete();
                }
                else{
                    isGirl.push(undefined);
                }
            }
        }
        function upGirl(lastNum){
            var selected=document.getElementById('td'+lastNum);
            selected.style.backgroundColor = "hotpink";
            isGirl.push(Number(lastNum));
            console.log('pushed in isGirl ='+ lastNum);
        }
        function downGirl(lastNum){
            var i, popNum;
            var selected=document.getElementById('td'+lastNum);
            selected.style.backgroundColor = "white";
            for(i=0; i<isGirl.length; i++){
                if(Number(lastNum) === isGirl[i])
                    popNum = i;
            }
            console.log('popme : '+isGirl[popNum]);
            isGirl[popNum]=undefined;
            isGirl.sort();
            console.log('realpop : '+isGirl[isGirl.length-1]);
            isGirl.pop();
        }
        
        function allGirlDelete(){
            var i;
            for(i=1; i<=24; i++){
                document.getElementById('td'+String(i)).style.backgroundColor="white";
            }
            while(isGirl.length!=0){
                isGirl.pop();
                console.log('do pop.');
            }
        }
        
    </script>
</html>
